apiVersion: v1
kind: ConfigMap
metadata:
  name: dgw-settings
data:
  setting.dxg.tpl: |
    {"Buffering": {"Item": []}, "CommInterface": {"Dap": [], "Ftp": [], "FtpService": {"setting": [{"name": "name", "value": ""}, {"name": "useFtpService", "value": "false"}, {"name": "portNo", "value": "21"}, {"name": "pasvIPAddress", "value": ""}, {"name": "pasvPortRange", "value": "30000:30009"}]}, "Http": [], "Hulft": {"setting": [{"name": "name", "value": ""}, {"name": "useHulftIot", "value": "false"}, {"name": "agentName", "value": ""}, {"name": "hostAddress", "value": ""}, {"name": "hostPortNo", "value": "8765"}, {"name": "activationKey", "value": ""}, {"name": "useHttps", "value": "false"}, {"name": "useCertVerification", "value": "false"}, {"name": "useProxy", "value": "false"}, {"name": "proxyAddress", "value": ""}, {"name": "proxyPortNo", "value": "80"}, {"name": "useProxyAuth", "value": "false"}, {"name": "proxyUserName", "value": ""}, {"name": "proxyPassword", "value": ""}]}, "IQMono": [], "Kinesis": [], "Kintone": [], "MindSphere": [], "Motionboard": [], "Mqtt": [{"name": "amqp", "setting": [{"name": "name", "value": ""}, {"name": "connectDstKind", "value": "0"}, {"name": "googleProjectId", "value": ""}, {"name": "googleDeviceId", "value": ""}, {"name": "googleRegion", "value": ""}, {"name": "googleRegistryId", "value": ""}, {"name": "googleAlg", "value": "0"}, {"name": "azureApiVersion", "value": "0"}, {"name": "azureAuthMethod", "value": "0"}, {"name": "azureIotHubHostName", "value": ""}, {"name": "azureDeviceId", "value": ""}, {"name": "azureKey", "value": ""}, {"name": "azurePolicyName", "value": ""}, {"name": "expiry", "value": "3600"}, {"name": "serverAddress", "value": "$MQTT_SERVER:61616"}, {"name": "useUUID", "value": "false"}, {"name": "clientId", "value": "$MQTT_CLIENTID"}, {"name": "mqttVersion", "value": "auto"}, {"name": "userName", "value": "$MQTT_USERNAME"}, {"name": "password", "value": "$MQTT_PASSWORD"}, {"name": "useTLS", "value": "false"}, {"name": "tlsTrustCert", "value": ""}, {"name": "tlsOwnPublicCert", "value": ""}, {"name": "tlsOwnPrivateKey", "value": ""}, {"name": "tlsOwnPrivatePass", "value": ""}, {"name": "tlsCipherSuite", "value": ""}, {"name": "tlsEnableServerCert", "value": "false"}, {"name": "useALPN", "value": "false"}, {"name": "alpnPlotocolName", "value": ""}, {"name": "useWill", "value": "false"}, {"name": "willTopic", "value": ""}, {"name": "willTopicSuffix", "value": ""}, {"name": "willMessage", "value": ""}, {"name": "willQoS", "value": "0"}, {"name": "willRetainFlag", "value": "false"}, {"name": "reconnectSpanSec", "value": "5"}, {"name": "timeoutSec", "value": "30"}, {"name": "retryCount", "value": "3"}, {"name": "keepAlive", "value": "60"}, {"name": "queueSize", "value": "2000"}, {"name": "bufferingStatus", "value": "0"}, {"name": "itemKey", "value": "20230713100050573"}]}], "OpcUa": {"setting": [{"name": "name", "value": ""}, {"name": "useOpcUa", "value": "false"}, {"name": "applicationUri", "value": "Takebishi:DeviceGateway"}, {"name": "portNo", "value": "52220"}, {"name": "serverCertificate", "value": "uaserver.crt.der"}, {"name": "serverPrivateKey", "value": "uaserver.nopass.key.pem"}, {"name": "isCreateCertificate", "value": "true"}, {"name": "serverIPAddress", "value": "devicegateway"}, {"name": "certificateValidYear", "value": "5"}, {"name": "alwaysCacheRead", "value": "false"}, {"name": "defaultMaxAge", "value": "0"}, {"name": "allowAnonymout", "value": "true"}, {"name": "enableSecurityNone", "value": "true"}, {"name": "enableSecurityBasic128Rsa15_Sign", "value": "false"}, {"name": "enableSecurityBasic128Rsa15_SignAndEncrypt", "value": "false"}, {"name": "enableSecurityBasic256_Sign", "value": "false"}, {"name": "enableSecurityBasic256_SignAndEncrypt", "value": "false"}, {"name": "enableSecurityBasic256Sha256_Sign", "value": "true"}, {"name": "enableSecurityBasic256Sha256_SignAndEncrypt", "value": "true"}, {"name": "enableSecurityAes128Sha256RsaOaep_Sign", "value": "true"}, {"name": "enableSecurityAes128Sha256RsaOaep_SignAndEncrypt", "value": "true"}, {"name": "enableSecurityAes256Sha256RsaPss_Sign", "value": "true"}, {"name": "enableSecurityAes256Sha256RsaPss_SignAndEncrypt", "value": "true"}]}, "SnmpAgent": {"setting": [{"name": "name", "value": ""}, {"name": "useSnmpAgent", "value": "false"}, {"name": "communityName", "value": "public"}, {"name": "pollingListenPort", "value": "161"}, {"name": "trapTargetAddress1", "value": ""}, {"name": "trapTargetAddress2", "value": ""}, {"name": "monitorSpan", "value": "5"}, {"name": "useDataSourceSummaryTable", "value": "false"}]}, "Sql": [], "WaterCps": {"items": [{"name": "name", "value": ""}, {"name": "loadFromFile", "value": "false"}, {"name": "measurePointInfo", "value": ""}, {"name": "measurePointFilePath", "value": ""}, {"name": "facilityNum", "value": "0"}, {"name": "measurePointNum", "value": "0"}, {"name": "verifyResult", "value": ""}, {"name": "enableSendStatusChangeEvent", "value": "false"}, {"name": "enableStatusRecoveryEvent", "value": "false"}], "setting": [{"name": "name", "value": ""}, {"name": "useWaterCps", "value": "false"}, {"name": "gatewayID", "value": ""}, {"name": "gatewayName", "value": ""}, {"name": "corporationID", "value": ""}, {"name": "tenantID", "value": ""}, {"name": "interfaceVer", "value": "v1"}, {"name": "waterCpsHostAddr", "value": ""}, {"name": "rootCrtFilePath", "value": ""}, {"name": "clientCrtFilePath", "value": ""}, {"name": "clientKeyFilePath", "value": ""}, {"name": "verifyServerCert", "value": "true"}, {"name": "timeOutSec", "value": "10"}, {"name": "writeWaitTimeoutSec", "value": "10"}, {"name": "connectRetryIntervalSec", "value": "10"}, {"name": "pushQueueSize", "value": "2000"}, {"name": "replyQueueSize", "value": "2000"}, {"name": "pushRetryNum", "value": "3"}, {"name": "replyRetryNum", "value": "3"}, {"name": "httpHostAddr", "value": ""}, {"name": "httpPort", "value": "433"}, {"name": "useProxy", "value": "false"}, {"name": "proxyAddress", "value": ""}, {"name": "proxyPortNo", "value": "80"}, {"name": "useProxyAuth", "value": "false"}, {"name": "proxyUserName", "value": ""}, {"name": "proxyPassword", "value": ""}, {"name": "mqttClientID", "value": ""}, {"name": "mqttUserName", "value": ""}, {"name": "mqttPassword", "value": ""}]}}, "DataSource": {"Device": []}, "Description": {"Version": "3.2.1.1185"}, "Event": {"Item": [{"action": [{"setting": [{"name": "name", "value": "mqtt-send"}, {"name": "destinationServer", "value": "amqp"}, {"name": "destinationTopic", "value": "dgw"}, {"name": "destinationTopicDispOnly", "value": ""}, {"name": "destinationTopicSuffix", "value": ""}, {"name": "messageType", "value": "1"}, {"name": "message", "value": "{\n   \"time\":  <%=@nowUtc(\"yyyyMMdd HH:mm:ss.ms\")%>,\n   \"status\": <%=@p(\"Managemnt.Information.Summary.ledStatus\")%>,\n   \"send\": <%=@p(\"Managemnt.Lan.Summary.sendBytes0\")%>,\n   \"recieve\": <%=@p(\"Managemnt.Lan.Summary.receiveBytes0\")%>\n}\n"}, {"name": "lineFeedCode", "value": "2"}, {"name": "targetDirectory", "value": ""}, {"name": "fileName", "value": ""}, {"name": "qosLevel", "value": "0"}, {"name": "retain", "value": "false"}, {"name": "useInfinitRetry", "value": "false"}], "type": "CPropsActionSendMQTT"}], "name": "cycle", "trigger": {"setting": [{"name": "name", "value": "cycleevent"}, {"name": "cycleMsec", "value": "1000"}, {"name": "initialForceActivating", "value": "true"}, {"name": "useRelativeTime", "value": "false"}]}, "type": "CPropsTriggerCycle"}]}, "System": {"Config": {"setting": [{"name": "name", "value": ""}, {"name": "autoStart", "value": "true"}, {"name": "language", "value": "0"}, {"name": "tcpKeepAliveTime", "value": "60"}, {"name": "tcpKeepAliveInterval", "value": "20"}, {"name": "tcpKeepAliveRetry", "value": "3"}, {"name": "booleanOutputByInteger", "value": "false"}, {"name": "showDetailParameter", "value": "false"}, {"name": "eventOccupancyTime", "value": "40"}, {"name": "actionOccupancyTime", "value": "250"}]}, "Lan": {"routing": [], "setting": [{"name": "name", "value": ""}, {"name": "usePort0", "value": "true"}, {"name": "linkSpeed0", "value": "0"}, {"name": "dhcpClient0", "value": "false"}, {"name": "ipAddress0", "value": "192.168.253.253"}, {"name": "subnetMask0", "value": "24"}, {"name": "setDefaultGateway", "value": "false"}, {"name": "defaultGateway", "value": ""}, {"name": "setDnsServer", "value": "false"}, {"name": "primaryDNSServer", "value": ""}, {"name": "secondaryDNSServer", "value": ""}, {"name": "setAcceptPing", "value": "true"}]}, "LogConfig": {"setting": [{"name": "name", "value": ""}, {"name": "logOutput", "value": "false"}, {"name": "logBufferCount", "value": "0"}, {"name": "logKeepDays", "value": "0"}, {"name": "logKeepDiskSpace", "value": "50"}, {"name": "logMaxFileSize", "value": "99"}, {"name": "logWindowsMode", "value": "false"}, {"name": "logCommonLevel", "value": "3"}, {"name": "logComunicationLevel", "value": "3"}, {"name": "logBufferingLevel", "value": "3"}, {"name": "logEventLevel", "value": "3"}, {"name": "logOpcLevel", "value": "3"}, {"name": "logMqttLevel", "value": "3"}, {"name": "logHttpLevel", "value": "3"}, {"name": "logSqlLevel", "value": "3"}, {"name": "logFileLevel", "value": "3"}, {"name": "logFtpLevel", "value": "3"}, {"name": "logKinesisLevel", "value": "3"}, {"name": "logMindsphereLevel", "value": "3"}, {"name": "logMotionboardLevel", "value": "3"}, {"name": "logDapLevel", "value": "3"}, {"name": "logToolCommLevel", "value": "3"}, {"name": "logWaterCpsLevel", "value": "3"}, {"name": "logIqMonozukuriLevel", "value": "3"}, {"name": "logKintoneLevel", "value": "3"}, {"name": "logWebApiLevel", "value": "3"}, {"name": "useOpcDetailTrace", "value": "false"}]}, "TimeConfig": {"setting": [{"name": "name", "value": ""}, {"name": "timeZone", "value": "Etc/UTC"}, {"name": "useNtpSyncronous", "value": "false"}, {"name": "ntpServerAddress", "value": ""}, {"name": "useSleMode", "value": "true"}, {"name": "ntpExecTime", "value": "0"}, {"name": "useUpdateHardwareClock", "value": "true"}, {"name": "updateHWClockExecTime", "value": "1"}]}, "User": {"users": [{"name": "administrator", "setting": [{"name": "name", "value": ""}, {"name": "useWebUI", "value": "true"}, {"name": "useFtpConnect", "value": "false"}, {"name": "useOpcuaConnect", "value": "false"}, {"name": "useOpcuaWrite", "value": "false"}, {"name": "isOpcuaX509User", "value": "false"}, {"name": "password", "value": "admin"}]}]}, "firewall": [{"name": "CONST_FIREWALL", "setting": [{"name": "name", "value": ""}, {"name": "validFlag", "value": "true"}, {"name": "type", "value": "WEB User Interface"}, {"name": "inputport", "value": "0"}, {"name": "sourceAddress", "value": "0.0.0.0"}, {"name": "sourceAddressMask", "value": "0"}]}, {"name": "DEFAULT_FIREWALL", "setting": [{"name": "name", "value": ""}, {"name": "validFlag", "value": "true"}, {"name": "type", "value": "All Service"}, {"name": "inputport", "value": "99"}, {"name": "sourceAddress", "value": "0.0.0.0"}, {"name": "sourceAddressMask", "value": "0"}]}], "networkdiag": {"setting": [{"name": "name", "value": ""}, {"name": "strPingTarget", "value": ""}, {"name": "strTraceRouteTarget", "value": ""}, {"name": "traceRouteHopCount", "value": "10"}]}}}
